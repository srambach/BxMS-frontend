// General styles for common use
// imported by kie-main.less

@fa-font-path: "../node_modules/patternfly/node_modules/font-awesome/fonts/";
@font-path: "../node_modules/patternfly/dist/fonts";
@icon-font-path: "../node_modules/patternfly/node_modules/bootstrap/fonts/";

// Variables
// path to images
@img-path: '../images';

// Changes masthead border to Red Hat product color
// For community version, use the default, which is @brand-primary
.navbar-pf {
  border-top-color: @color-pf-red;
}

// about modal background image
@modal-about-pf-bg-img: 'about-background.jpg';


html {
  font-size: @font-size-base;
}

// Status colors
.status-ok-bxms {
  color: @color-pf-light-green;
}

//Circle Icons
// Includes :hover
.circle-icon-bxms {
  background-color: @alert-info-bg;
  font-size: 1.25em; //15px;
  font-weight: 400;
  height: 2.5em;
  line-height: 2.5em;
  margin: .5em;
  width: 2.5em;
  -webkit-border-radius:50%;
  -moz-border-radius:50%;
  border-radius:50%;
  &:hover {
    background-color: @color-pf-black-600;
    color: @color-pf-white;
  }
}

.circle-icon-bxms-large {
  font-size: 2.5em;
}

//refactor of the circle icon
.kie-circle-icon {
  background-color: @alert-info-bg;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  height: 1.75em;
  width: 1.75em;
  border-radius:50%;
  &:hover {
    background-color: @color-pf-black-600;
    color: @color-pf-white;
  }
}

.kie-circle-icon--md {
  font-size: 3em;
}

.kie-circle-icon--lg {
  font-size: 4em;
}
// end refactor of the circle icon
/////

.button-card-text-bxms {
  max-width: 10em;
  white-space: normal;
}

// Masthead overrides
@media (min-width: @grid-float-breakpoint) {
  .navbar-pf {
       display: flex;
       align-items: center;
       flex: 1 0 100%;
     }
}
// remove the line under the logo
.navbar-pf .navbar-header {
  border-bottom: none;
  flex-grow: 1;
  min-height: 58px;
display:flex;
  align-items: center;
  @media (min-width: @grid-float-breakpoint) {
    flex-grow: 0;
  }
}
.navbar-pf .navbar-brand {
  padding: 0 @pf-spacer-md 0 0;
}

.navbar-pf .navbar-collapse {
  flex: 0 1 100%;
}
.nav-item-iconic {
  @media (min-width: @grid-float-breakpoint) {
    min-height: 58px;
  }
  font-size: 14px;
  display:flex;
  align-items: center;
  border-left: none;
  padding-left: 12px;
}
.nav li a.nav-item-iconic {
  display: flex;
}
.navbar-pf .navbar-nav > li > a {
  padding-left: 12px;
  padding-right: 12px;
}



//@media (min-width: @grid-float-breakpoint) {
//  .navbar-pf .navbar-header {
//    float: left;
//  }
//  .navbar-pf .navbar-nav > li > a {
//    padding-top: 10px;
//    padding-bottom: 10px;
//  }
//}
//@media (min-width: @grid-float-breakpoint) {
//  .navbar-pf {
//    .navbar-brand {
//      padding-top: 10px;
//      padding-bottom: 10px;
//      padding-right: @pf-spacer-md;
//    }
//  }
//}

// ridiculously specific fix to override an assumption about the dropdown menu
.navbar-pf .navbar-iconic li.dropdown > .dropdown-toggle .pficon-user {
  padding-right: @pf-spacer-xxs;
}
.navbar-pf .navbar-utility li.dropdown > .dropdown-toggle {
  padding-left: 20px;
}
@media (min-width: @grid-float-breakpoint) {
  .navbar-pf .navbar-utility li.dropdown > .dropdown-toggle {
    padding-left: 10px;
  }
}

//.navbar-pf .navbar-primary {
//  float:left;
//  width: 100%;
//}
.navbar-brand img {
  height: 11px;
  //@media (max-width: @grid-float-breakpoint) {
  //  width: 100%;
  //}
}

// Building block holder
  .bxms-container-fluid--case-list {
    border-color: @color-pf-black-300;
    border-style: solid;
    border-width: 1px;
  }

  // Row with tabs
  .bxms-row__nav-tabs {
    padding-left: .5em;
    padding-right: .5em;
    margin-top: .5em;
  }

  // Toolbars
  .bxms-row--toolbar {
    padding: .25em 0;
    background-color: @color-pf-white;
    border-collapse: collapse;
  }

  // * in use on project-list
  .toolbar-bxms {
    display:flex;
    padding: .5em 1em;
  }

  .toolbar-pf .form-group
  {
    margin-bottom: .5em;
    display: flex;
  }
  .toolbar-pf .form-group:last-of-type {
    border-right: none;
    margin-bottom: .5em;
  }
  //BxMS toolbar has a title
  .bxms-toolbar__title {
    font-size: 2em;
    margin-right: 1em;
  }
  //BxMS toolbar has a title
  .bxms-block__title {
    font-size: 1.5em;
    margin-right: 1em;
  }
  //BxMS toolbar has other items on the right
  .toolbar-right-bxms {
    float:right;
  }
  .toolbar-element-bxms {
    display: inline-block;
    margin-top: auto;
    margin-bottom: auto;
  }

  .dropdown-minimal-bxms {
    background: none;
    border: none;
    box-shadow: none;
  }
  .toolbar-btn-group-bxms {
    float:right;
    margin-top: .5em;
  }
  ///////////
  //TOOLBAR
  // move the button group to the right on narrower screens
  .btn-group-bxms-right {
    float:right;
  }
  //so the placeholder text doesn't get cut off
  .toolbar-pf-filter {
    min-width: 18em;
  }
  // Title for toolbar inside content section
  .toolbar-data-title-bxms {
    display:table-cell;
    float:left;
    font-size: 1.5em;
    margin-right: 1em;
  }

  // Add space around the kebab; have to override specificity
  .dropdown-kebab-pf .btn-link {
    padding-left: .5em;
    padding-right: .5em;
  }
  // with padding on the kebab, need to adjust the position of the dropdown
  .dropdown-kebab-pf .dropdown-menu.dropdown-menu-right {
    right: -.5em;
  }

  // add some vertical space if toolbar pieces are stacked
  .input-group-bxms {
    margin-bottom: .5em;
  }
  // switch to flex display for toolbar
  @media (min-width: @screen-sm-min) {
    // Use flex to vertically center toolbar items
    .toolbar-pf-actions {
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }
    .toolbar-pf-actions-right {
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }
    // Push the button group to the right when flexed
    .btn-group-bxms-right {
      margin-left: auto;
    }
    //remove the margin needed when items were stacked
    .input-group-bxms {
      margin-bottom: auto;
    }
  }


// generic KIE toolbar for use on pages and elsewhere
.kie-toolbar {
  background-color: @color-pf-white;
  border-bottom: 1px solid @color-pf-black-300;
  display:flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 0;
  padding-top: 0;
  > * {
    margin: @pf-spacer-sm 0;
    flex-shrink:0;
    padding-left: (@grid-gutter-width/2);
    padding-right: (@grid-gutter-width/2);

    &:first-child {
      padding-left: (@grid-gutter-width / 2);
      margin-left: 0;
    }
    &:last-child {
      padding-right: (@grid-gutter-width / 2);
    }
  }

  // based on toolbar-pf styles
  .form-group {
    margin-bottom: (@grid-gutter-width/4);
    @media (min-width: @grid-float-breakpoint) {
      border-right: 1px solid @sidebar-pf-border-color;
      float: left;
    }
    &:first-child {
      padding-left:none;
      color: blue;
    }
    &:last-child {
      border-right: 0;
    }
    .btn,
    .btn-group {
      + .btn,
      + .btn-group { margin-left: 5px; }
      + .btn-link,
      + .dropdown { margin-left: 10px; }
    }
    .btn-link {
      color: @gray-darker;
      font-size: (@font-size-base + 4);
      line-height: 1;
      padding: 4px 0;
      &:active,
      &:focus,
      &:hover { color: @link-color; }
    }
    .dropdown-kebab-pf .btn-link {
      padding: 4px (@grid-gutter-width/4);
      margin-left: (@grid-gutter-width/(-4));
      margin-right: (@grid-gutter-width/(-4));
    }
  }
}
// end kie-toolbar

// KIE breadcrumb contained in a toolbar
.kie-toolbar__breadcrumb {
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  & > li {
    display: flex;
    align-items: center;
  }
}


//popover
  .has-button, .has-clear {
    display: inline-block;
  }
  .bxms-popover__button {
    display: inline-block;
    position: relative;
    vertical-align: top;
  }
  .popover-content {
    max-width: 100%;
  }
  .bxms-popover__input {
    padding-right: 0 !important;
  }

  // results toolbar (case list!)
  .toolbar-pf-results {
    padding: 10px;
  }

  .bxms-toolbar-pf-results__block {
    border-right: 1px solid @sidebar-pf-border-color;
    display: inline-flex;
    float: left;
    margin-bottom: 0;
    padding-left: (@grid-gutter-width/2);
    padding-right: (@grid-gutter-width/2);
    &:first-child {
      padding-left: inherit;
    }
    &:last-child {
      border-right: none;
    }
  }


  @media (min-width: 768px) {
    .toolbar-pf-results h5, .toolbar-pf-results p, .toolbar-pf-results ul {
      line-height: inherit;
    }
  }
  // About modal
  .about-modal-pf {
    background-color: #083452;
    min-height: 30em;
  }

  // Page Content
  .page-content-bxms {
    background-color: @well-bg;
    padding-bottom: 1em;
    padding-top: 1em;
  }

  .main-content-bxms {
    .box-shadow(0 1px 1px fade(@color-pf-black, 17.5%));
  }
  // Blank slate
  .blank-slate-pf {
    background-color: @color-pf-white;
    border: 0px;
  }

  // Makes a big card-looking button
  .button-card-bxms {
    background-color: transparent;
    box-shadow: none;
    min-width: 10em;
    padding: 1em;
    &:hover .circle-icon-bxms {
      background-color: @color-pf-black-600;
      color: @color-pf-white;
    }
    vertical-align: top;
  }


  // Add this to the .fa-code-fork icon to make the process-flow icon
  .fa-process-flow-bxms {
    transform: rotate(90deg);
  }
  // Add this to the .fa-external-link-suqare icon to make the process-flow icon
  .fa-imported-bxms {
    transform: rotate(180deg);
  }

  // A link to the right side of a card's title
  .card-title-link-bxms {
    margin-left: .5em;
  }
  .card-pf-heading-link-bxms {
    padding: 20px 0;
  }
  //.card-pf-body {
  //  margin: auto;
  //}
  .card-pf-footer {
    padding-bottom: 20px;
  }

  //Change default dl to have a left justified dd
  .name-list-bxms dt {
    text-align: left;
    font-weight:normal;
  }

  // Adds a checkbox icon before
  // Used for indicating status rather than clickable checkboxes
  .checked-bxms {
    &:before {
      content: @fa-var-check-square-o;
      font-family: FontAwesome;
      margin-right: .25em;
    }
  }
  .unchecked-bxms {
    &:before {
      content: @fa-var-square-o;
      font-family: FontAwesome;
      margin-right: .25em;
    }
  }

  // List-view
  .list-view-bxms-kebab {
    margin-left: auto !important;
    align-self: flex-end;
  }

  .bxms-list-view__status {
    margin-right: 2em;
  }

  .list-view-pf-body {
    display:flex;
  }

  .list-view-pf-additional-info-item {
    width: 7em; // set the width so they wrap at the same time regardless of contents
  }

  .list-view-pf-actions {
    margin-bottom: 0;
    margin-top: 0;
  }

  // Remove spacing under list group
  .bxms-list-group--case {
    margin-bottom: 0;
  }
  // Adjust width of list-view items to make more space for the description and heading
  @media (min-width: @screen-md-min) {
    .list-view-pf-additional-info {
      flex: 0 0 auto; // it covers whats left from summary
      float: left; // IE9 fallback
      width: 15%; // IE9 fallback
    }
    .list-view-pf .list-group-item-heading {
      -ms-flex: 1 0 calc(~'70% - 20px'); // IE10 fallback
      flex:     1 0 calc(~'70% - 20px');
      width: calc(~'70% - 20px'); // IE9 fallback
    }
    .list-view-pf .list-group-item-text {
      -ms-flex: 0 0 calc(~'30% - 20px'); // IE10 fallback
      flex:     0 0 calc(~'30% - 20px');
      width: calc(~'30% - 20px'); // IE9 fallback
    }

    // case listing view items have description and actions
    .list-view-pf .bxms-list-view-pf-description--case {
      -ms-flex: 1 0 calc(~'80% - 20em'); // IE10 fallback
      flex:     1 0 calc(~'80% - 20em');
      width: calc(~'80% - 20em'); // IE9 fallback
    }
    .list-view-pf .bxms-list-view-pf-actions--case {
      -ms-flex: 1 0 20em; // IE10 fallback
      flex:     1 0 20em;
      width: 20em; // IE9 fallback
      text-align: right;
    }
    //inside description is heading, status, and text
    .list-view-pf .bxms-list-group-item-heading--case {
      -ms-flex: 1 0 20em; // IE10 fallback
      flex:     1 0 20em;
      width: 20em; // IE9 fallback
    }
    .list-view-pf .bxms-list-group-item-text--status {
      -ms-flex: 1 0 10em; // IE10 fallback
      flex:     1 0 10em;
      width: 10em; // IE9 fallback
    }
    .list-view-pf .bxms-list-group-item-text--case {
      -ms-flex: 1 0 auto; // IE10 fallback
      flex:     1 0 auto;
      width: calc(100% - 20em - 10em); // IE9 fallback
    }
    //.bxms-list-group-item-text--case-status {
    //  -ms-flex: 1 0 auto; // IE10 fallback
    //  flex:     1 0 auto;
    //  width: calc(100% - 20em - 10em); // IE9 fallback
    //}
  }
  //selector length needed to override specificity
  // Adjust size of the circle so that the icon fits nicely
  .list-view-pf-left .fa.list-view-pf-icon-sm {
    height: 2em;
    line-height: 2em;
    width: 2em;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  //// Settings
  .kie-background--settings {
    background-color: @well-bg;
  }

  .kie-badge--circle {
    background-color: @color-pf-black-300;
    border-radius: 50%;
    font-size: large;
    color: @color-pf-black-900;
    height: 2em;
    width: 2em;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card-pf-view .card-pf-top-element .kie-card-pf-icon-circle--disabled {
    background: @card-pf-container-bg-color;
    color: @color-pf-white;
    border-color: transparent;
  }

